PDO::ERRMODE_EXCEPTION, PDO::ATTR_DEFAULT_FETCH_MODE => PDO::FETCH_ASSOC, PDO::ATTR_EMULATE_PREPARES => false, ]; $pdo = new PDO($dsn, $user, $pass, $options); // admin_functions.php function enrollStudent($studentId, $courseId) { global $pdo; $stmt = $pdo->prepare("INSERT INTO enrollments (student_id, course_id) VALUES (?, ?)"); $stmt->execute([$studentId, $courseId]); } function monitorStudentProgress($studentId) { global $pdo; $stmt = $pdo->prepare("SELECT * FROM progress WHERE student_id = ?"); $stmt->execute([$studentId]); return $stmt->fetchAll(); } function processPayment($studentId, $amount) { global $pdo; $stmt = $pdo->prepare("INSERT INTO payments (student_id, amount, paid_at) VALUES (?, ?, NOW())"); $stmt->execute([$studentId, $amount]); } function addStudentResult($studentId, $courseId, $grade) { global $pdo; $stmt = $pdo->prepare("INSERT INTO results (student_id, course_id, grade, date_added) VALUES (?, ?, ?, NOW())"); $stmt->execute([$studentId, $courseId, $grade]); } function conductSRCVote($studentId, $candidateId) { global $pdo; $stmt = $pdo->prepare("INSERT INTO src_votes (student_id, candidate_id, voted_at) VALUES (?, ?, NOW())"); $stmt->execute([$studentId, $candidateId]); } function viewAttendance($studentId) { global $pdo; $stmt = $pdo->prepare("SELECT * FROM attendance WHERE student_id = ?"); $stmt->execute([$studentId]); return $stmt->fetchAll(); } function manageContent($title, $body, $section) { global $pdo; $stmt = $pdo->prepare("INSERT INTO site_content (title, body, section, updated_at) VALUES (?, ?, ?, NOW())"); $stmt->execute([$title, $body, $section]); } function sendMessage($senderId, $receiverId, $message) { global $pdo; $stmt = $pdo->prepare("INSERT INTO messages (sender_id, receiver_id, message, sent_at) VALUES (?, ?, ?, NOW())"); $stmt->execute([$senderId, $receiverId, $message]); } // lecturer_functions.php function assignCourseToLecturer($lecturerId, $courseId) { global $pdo; $stmt = $pdo->prepare("INSERT INTO lecturer_courses (lecturer_id, course_id) VALUES (?, ?)"); $stmt->execute([$lecturerId, $courseId]); } function uploadAssignment($lecturerId, $courseId, $title, $description) { global $pdo; $stmt = $pdo->prepare("INSERT INTO assignments (lecturer_id, course_id, title, description, posted_at) VALUES (?, ?, ?, ?, NOW())"); $stmt->execute([$lecturerId, $courseId, $title, $description]); } function takeAttendance($studentId, $courseId, $status) { global $pdo; $stmt = $pdo->prepare("INSERT INTO attendance (student_id, course_id, status, recorded_at) VALUES (?, ?, ?, NOW())"); $stmt->execute([$studentId, $courseId, $status]); } function hostOnlineClass($lecturerId, $courseId, $meetingLink, $scheduleTime) { global $pdo; $stmt = $pdo->prepare("INSERT INTO online_classes (lecturer_id, course_id, meeting_link, scheduled_time) VALUES (?, ?, ?, ?)"); $stmt->execute([$lecturerId, $courseId, $meetingLink, $scheduleTime]); } // student_functions.php function viewResults($studentId) { global $pdo; $stmt = $pdo->prepare("SELECT * FROM results WHERE student_id = ?"); $stmt->execute([$studentId]); return $stmt->fetchAll(); } function printPaymentHistory($studentId) { global $pdo; $stmt = $pdo->prepare("SELECT * FROM payments WHERE student_id = ?"); $stmt->execute([$studentId]); return $stmt->fetchAll(); } function updatePersonalDetails($studentId, $details) { global $pdo; $stmt = $pdo->prepare("UPDATE students SET name = ?, email = ?, phone = ? WHERE id = ?"); $stmt->execute([$details['name'], $details['email'], $details['phone'], $studentId]); } function getOnlineClasses($studentId) { global $pdo; $stmt = $pdo->prepare("SELECT * FROM online_classes oc JOIN enrollments e ON oc.course_id = e.course_id WHERE e.student_id = ?"); $stmt->execute([$studentId]); return $stmt->fetchAll(); } function getTimetable($studentId) { global $pdo; $stmt = $pdo->prepare("SELECT * FROM timetable WHERE student_id = ?"); $stmt->execute([$studentId]); return $stmt->fetchAll(); } function getMessages($userId) { global $pdo; $stmt = $pdo->prepare("SELECT * FROM messages WHERE receiver_id = ? ORDER BY sent_at DESC"); $stmt->execute([$userId]); return $stmt->fetchAll(); } // public_functions.php function getCourseCatalog() { global $pdo; $stmt = $pdo->query("SELECT * FROM courses"); return $stmt->fetchAll(); } function getInstituteInfo() { return [ 'name' => 'ABC Institute of Learning', 'address' => '123 Learning St, EduCity, Country', 'phone' => '+1234567890', 'email' => 'info@abcinstitute.edu' ]; } // Example usage in frontend: include 'config.php'; include 'admin_functions.php'; include 'student_functions.php'; include 'lecturer_functions.php'; include 'public_functions.php'; // To enroll a student // enrollStudent(1, 101); // To view catalog // $catalog = getCourseCatalog(); // foreach ($catalog as $course) { echo $course['title']; } // Note: You should implement access control and proper session management in production. ?> 